# ğŸ“„ .github/workflows/nodejs.yml

name: Node.js CI

# ğŸ“Œ DÃ©clencheurs : quand ce workflow doit-il s'exÃ©cuter ?
on:
  push:
    branches: [main, develop, feature/*] # Sur push vers ces branches
  pull_request:
    branches: [main] # Sur toute PR vers main

# ğŸ“Œ DÃ©finition du job Ã  exÃ©cuter
jobs:
  build-and-test:
    runs-on: ubuntu-latest # Machine virtuelle fournie par GitHub

    steps:
      # 1ï¸âƒ£ RÃ©cupÃ©rer le code source
      - name: ğŸ“¥ Checkout du code
        uses: actions/checkout@v3

      # 2ï¸âƒ£ Installer Node.js (version 20)
      - name: ğŸ“¦ Setup Node.js
        uses: actions/setup-node@v3
        with:
          node-version: 20

      # 3ï¸âƒ£ Installer les dÃ©pendances du projet
      - name: ğŸ“¦ Install dependencies
        run: npm ci

      # 4ï¸âƒ£ ExÃ©cuter les tests automatisÃ©s
      - name: ğŸš€ Run tests
        run: npm run test
# âœ… RÃ©sumÃ© :
# - Ce workflow est lancÃ© Ã  chaque push ou pull request.
# - Il installe Node.js + dÃ©pendances + lance les tests.
# - Les rÃ©sultats apparaissent dans l'onglet Actions du repo GitHub.
